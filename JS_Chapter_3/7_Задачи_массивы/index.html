<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../style.css">
  <title>Задания на работу с методами массивов</title>
</head>

<body>
  <a href="../../index.html">
    <div class="home">в начало</div>
  </a>

  <h1>Задания на работу с методами массивов</h1>
  <ol>
    <li>У вас есть список фильмов с рейтингом в виде массива объектов.
      Напишите функцию showGoodFilms, которая будет принимать этот массив,
      а возвращать будет массив объектов только с теми фильмами,
      у которых рейтинг больше или равен 8.</li>
    <li>Напишите функцию showListOfFilms, которая будет принимать этот же массив,
      а возвращать будет строку, которая содержит названия фильмов через запятую.
      Пример:
      showListOfFilms(films) => "Titanic, Die hard 5, Matrix, Some bad film"</li>
    <li>Напишите функцию setFilmsIds, которая будет принимать этот же массив,
      а возвращать будет такой же массив с фильмами, но у каждого фильма будет новое поле id.
      Значение этого поля установите по нумерации фильма <br>
      Пример: <br>
      <pre><code>setFilmsIds(films)  => [   
  { name: 'Titanic', rating: 9, id: 0 },   
  { name: 'Die hard 5', rating: 5, id: 1 },   
  { name: 'Matrix', rating: 8, id: 2 },   
  { name: 'Some bad film', rating: 4, id: 3 } 
]</code></pre>
    </li>
    <li>Запишите результат предыдущей функции в переменную tranformedArray.
      Напишите функцию checkFilms, которая будет проверять, что в каждом из фильмов есть поле id.
      Если это так - функция возвращает true.
      Очевидно, что сейчас условие должно выполняться, если мы передаем checkFilms(tranformedArray); :)</li>
  </ol>

  <details>
    <summary>Решение</summary>
    <pre><code>const films = [
{
    name: 'Titanic',
    rating: 9
},
{
    name: 'Die hard 5',
    rating: 5
},
{
    name: 'Matrix',
    rating: 8
},
{
    name: 'Some bad film',
    rating: 4
}
];

//1
function showGoodFilms(arr) {
const newFilm = arr.filter(film => film.rating >= 8);
return newFilm;  
}
showGoodFilms(films);

//2
function showListOfFilms(arr) {
return arr.reduce((acc, curr) =>`${typeof(acc) === 'object' ? acc.name : acc}, ${curr.name}`);
}
showListOfFilms(films);

//3
function setFilmsIds(arr) {
const newFilm = arr.map((item, i) => {
  item.id = i;
  return item;
});
return newFilm;
}
setFilmsIds(films);

//4
const tranformedArray = setFilmsIds(films);

function checkFilms(arr) {
return arr.every(film => film.id || film.id === 0 ? true : false);
}
checkFilms(tranformedArray);</code></pre>
  </details>

  <div class="container">
    <h1>Задания на работу с методами массивов</h1>

    <h3>Полезные ссылки:</h3>
    <ul>
      <li><a href="">#</a></li>
      <li><a href="">#</a></li>
    </ul>
  </div>
  <script src="script.js"></script>
</body>

</html>